//JSONslider v.0.3.0
//http://www.github.com/dcdeiv/jsonslider
// GPLv2 http://www.gnu.org/licenses/gpl-2.0-standalone.html
!function(a){a.fn.jsonSlider=function(b){var c,d,e,f={json:void 0,Class:"slider-active",aspectRatio:"16:9",css:{parent:{position:"relative"},wrap:{position:"relative",width:"100%",height:"100%",margin:"0 auto",padding:0,backgroundColor:"inherit",overflow:"hidden"},figure:{position:"absolute"},img:{width:"auto",maxWidth:"100%",lineHeight:0,margin:"0 auto"}}},g=a.extend(!0,f,b),h=g.json,i=g.Class,j=g.aspectRatio,k=g.css,l=a(this),m=j.split(":"),n=parseInt(m[0]),o=parseInt(m[1]),p=n/o;c=parseInt(l.css("width")),d=parseInt(l.css("height")),l.append("<div>"),e=l.children(),a(window).resize(function(){var b={height:c/p},f=a.extend({},k.parent,b);0===d&&l.css(f),e.css(k.wrap)}),a.getJSON(h,function(b){function h(b){var d,e=a("."+b);d=0===e.next().length?c.first():e.next(),e.fadeOut(1e3,function(){a(this).removeClass(b)}),d.fadeIn(1e3,function(){a(this).addClass(b)})}var c,d,f,g=a.map(b,function(a){return a});for(f=0;f<g.length;f++)e.append(a('<figure><img src="'+g[f].url+'" alt="'+g[f].alt+'"/></figure>'));c=e.children(),c.css(k.figure),d=c.first(),d.addClass(i),c.not(d).hide(),setTimeout(setInterval(function(){h(i)},4e3),5e3),a(window).resize()})}}(jQuery);
